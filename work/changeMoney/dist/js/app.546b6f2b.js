(function(t){function e(e){for(var c,u,l=e[0],i=e[1],r=e[2],b=0,d=[];b<l.length;b++)u=l[b],Object.prototype.hasOwnProperty.call(a,u)&&a[u]&&d.push(a[u][0]),a[u]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);s&&s(e);while(d.length)d.shift()();return o.push.apply(o,r||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],c=!0,l=1;l<n.length;l++){var i=n[l];0!==a[i]&&(c=!1)}c&&(o.splice(e--,1),t=u(u.s=n[0]))}return t}var c={},a={app:0},o=[];function u(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=c,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)u.d(n,c,function(e){return t[e]}.bind(null,c));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var r=0;r<l.length;r++)e(l[r]);var s=i;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),a=(n("b65f"),n("d3b77"),n("5502")),o=Object(a["a"])({state:function(){return{data:null,balance:{RUR:1e4}}},getters:{getDate:function(t){return t.data?t.data.Timestamp:null},valutes:function(t){return t.data?t.data.Valute:{}},balance:function(t){return t.balance},valBalance:function(t){return function(e){return t.balance[e]?t.balance[e]:0}}},mutations:{loadData:function(t,e){t.data=e},changeBalans:function(t,e){t.balance[e.inCode]?t.balance[e.inCode]+=+e.inValue:t.balance[e.inCode]=+e.inValue;var n=Math.trunc(100*(t.balance[e.outCode]-e.outValue))/100;n?t.balance[e.outCode]=n:delete t.balance[e.outCode]}},actions:{loadData:function(t){fetch("https://www.cbr-xml-daily.ru/daily_json.js").then((function(t){return t.json()})).then((function(e){return t.commit("loadData",e)}))},changeBalans:function(t,e){t.commit("changeBalans",e)}}}),u={class:"container"};function l(t,e,n,a,o,l){var i=Object(c["l"])("Change"),r=Object(c["l"])("Course"),s=Object(c["l"])("Balance");return Object(c["g"])(),Object(c["c"])("div",u,[Object(c["e"])(i),Object(c["e"])(r),Object(c["e"])(s)])}var i=n("5530"),r=Object(c["p"])("data-v-5f64d493");Object(c["i"])("data-v-5f64d493");var s=Object(c["e"])("h2",{class:"secondary"},"Валюта",-1),b=Object(c["e"])("h2",{class:"secondary"},"Доступно",-1),d={class:"big_f"},f=Object(c["e"])("h2",{class:"secondary"},"Хочу",-1),h=Object(c["e"])("h2",{class:"secondary"},"Заплачу",-1),p={class:"big_f"},j={class:"btn submit p_8_16"};Object(c["h"])();var v=r((function(t,e,n,a,o,u){var l=Object(c["l"])("Select");return Object(c["g"])(),Object(c["c"])("form",{onSubmit:e[4]||(e[4]=Object(c["o"])((function(){return u.submit&&u.submit.apply(u,arguments)}),["prevent"]))},[s,Object(c["e"])(l,{onChoiceValute:u.choiceValute},null,8,["onChoiceValute"]),b,Object(c["e"])("p",d,Object(c["m"])(u.form_00(u.have))+" "+Object(c["m"])(o.code),1),f,Object(c["e"])("div",{onClick:e[1]||(e[1]=function(t){return o.operationBuy=!0}),class:"btn p_8_16 ".concat(u.classBuy)}," Купить ",2),Object(c["e"])("div",{onClick:e[2]||(e[2]=function(t){return o.operationBuy=!1}),class:"btn p_8_16 ".concat(u.classSell)}," Продать ",2),Object(c["e"])("input",{onInput:e[3]||(e[3]=function(){return u.onInput&&u.onInput.apply(u,arguments)}),value:o.value,class:"p_8_16",placeholder:"0.000"},null,40,["value"]),h,Object(c["e"])("p",p,Object(c["m"])(u.form_00(u.summ))+" ₽ ",1),Object(c["e"])("button",j,Object(c["m"])(u.operation),1)],32)})),O=(n("b680"),Object(c["p"])("data-v-5efe683d"));Object(c["i"])("data-v-5efe683d");var m={key:0,class:"options none_scroll"};Object(c["h"])();var _=O((function(t,e,n,a,o,u){return Object(c["g"])(),Object(c["c"])("div",null,[Object(c["e"])("p",{class:u.classes,onClick:e[1]||(e[1]=function(){return u.toogle_show&&u.toogle_show.apply(u,arguments)})},Object(c["m"])(o.valute),3),o.show_option?(Object(c["g"])(),Object(c["c"])("div",m,[(Object(c["g"])(!0),Object(c["c"])(c["a"],null,Object(c["k"])(t.valutes,(function(t,e){return Object(c["g"])(),Object(c["c"])("p",{key:e,onClick:function(n){return u.choiceValute(t,e)},class:"p_8_16"},Object(c["m"])(t.Name)+"("+Object(c["m"])(e)+") ",9,["onClick"])})),128))])):Object(c["d"])("",!0)])})),g=(n("99af"),{props:[""],data:function(){return{valute:"-",show_option:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(a["c"])(["valutes"])),{},{classes:function(){return this.show_option?"select  big_f p_8_16 show_option":"select big_f p_8_16"}}),methods:{toogle_show:function(){this.show_option=!this.show_option},choiceValute:function(t,e){this.valute="".concat(t.Name,"(").concat(e,")"),this.toogle_show(),this.$emit("choiceValute",e)}}});n("cb4d");g.render=_,g.__scopeId="data-v-5efe683d";var y=g,w={components:{Select:y},data:function(){return{code:null,operationBuy:!0,value:"",posInput:null}},computed:Object(i["a"])(Object(i["a"])({},Object(a["c"])(["valutes","valBalance"])),{},{have:function(){var t=this.valBalance(this.code);return t},summ:function(){var t=0;return this.operationBuy&&this.code&&(t=this.value/this.valutes[this.code].Nominal*this.valutes[this.code].Value),t},operation:function(){return this.operationBuy?"Купить":"Продать"},classBuy:function(){return this.operationBuy?"active":""},classSell:function(){return this.operationBuy?"":"active"}}),methods:Object(i["a"])(Object(i["a"])({},Object(a["b"])(["changeBalans"])),{},{choiceValute:function(t){this.code=t},form_00:function(t){return(Math.trunc(100*t)/100).toFixed(2)},onInput:function(t){var e=this;this.posInput=t.target.selectionEnd;var n=this.value;this.value="."==t.target.value?"0.":t.target.value,"0."==this.value&&this.posInput++,(isNaN(this.value)||/[\s,e]+/.test(this.value))&&(this.value=n,this.posInput--,"."==this.value[this.posInput]&&this.posInput++),this.value=this.form_00(this.value),setTimeout((function(){t.target.setSelectionRange(e.posInput,e.posInput)}),0)},submit:function(){if(0!=+this.value&&this.code)if(this.value%this.valutes[this.code].Nominal)alert("Введите другое количество. \nНоминал валюты: ".concat(this.valutes[this.code].Nominal));else if(this.operationBuy){if(this.summ>this.valBalance("RUR"))return void alert("Недостаточно средств");this.changeBalans({inCode:this.code,inValue:+this.value,outCode:"RUR",outValue:this.summ})}else{if(this.value>this.have)return void alert("Недостаточно средств");this.changeBalans({inCode:"RUR",inValue:this.value/this.valutes[this.code].Nominal*this.valutes[this.code].Value,outCode:this.code,outValue:+this.value})}else alert("Ошибка ввода данных")}})};n("b048");w.render=v,w.__scopeId="data-v-5f64d493";var C=w,B=Object(c["p"])("data-v-4801ebdd");Object(c["i"])("data-v-4801ebdd");var V={class:"big_f"},I=Object(c["e"])("div",{class:"t_header secondary"},[Object(c["e"])("p",{class:"p_8_16"},"Код"),Object(c["e"])("p",{class:"p_8_16"},"Единиц"),Object(c["e"])("p",{class:"p_8_16"},"Курс")],-1),k={class:"t_body none_scroll"};Object(c["h"])();var D=B((function(t,e,n,a,o,u){var l=Object(c["l"])("Row");return Object(c["g"])(),Object(c["c"])("div",null,[Object(c["e"])("h1",V," Курс валют на "+Object(c["m"])(u.date),1),I,Object(c["e"])("div",k,[Object(c["e"])("table",null,[Object(c["e"])("tbody",null,[(Object(c["g"])(!0),Object(c["c"])(c["a"],null,Object(c["k"])(t.valutes,(function(t){return Object(c["g"])(),Object(c["c"])(l,{key:t.ID,valute:t},null,8,["valute"])})),128))])])])])})),M=Object(c["p"])("data-v-4f80c653"),R=M((function(t,e,n,a,o,u){return Object(c["g"])(),Object(c["c"])("tr",null,[Object(c["e"])("td",null,Object(c["m"])(n.valute.CharCode),1),Object(c["e"])("td",null,Object(c["m"])(n.valute.Nominal),1),Object(c["e"])("td",{style:"color: ".concat(u.color)},Object(c["m"])(u.value)+"("+Object(c["m"])(u.diff)+") ",5)])})),S={props:["valute"],computed:{value:function(){return this.form_00(this.valute.Value)},diff:function(){return this.form_00(this.valute.Value-this.valute.Previous)},color:function(){return this.diff>0?"green":this.diff<0?"red":""}},methods:{form_00:function(t){return(Math.trunc(100*t)/100).toFixed(2)}}};n("e997");S.render=R,S.__scopeId="data-v-4f80c653";var x=S,N={components:{Row:x},computed:Object(i["a"])(Object(i["a"])({},Object(a["c"])(["getDate","valutes"])),{},{date:function(){var t=new Date(Date.parse(this.getDate)),e=t.getDate()<10?"0"+t.getDate():t.getDate(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,c=t.getFullYear()<10?"0"+t.getFullYear():t.getFullYear();return e+"."+n+"."+c}})};n("5bf6");N.render=D,N.__scopeId="data-v-4801ebdd";var P=N,F=Object(c["p"])("data-v-9691609c");Object(c["i"])("data-v-9691609c");var T={class:"balance"},U=Object(c["e"])("h1",{class:"big_f"}," Баланс ",-1),Y={class:"t_body none_scroll"};Object(c["h"])();var J=F((function(t,e,n,a,o,u){return Object(c["g"])(),Object(c["c"])("div",T,[U,Object(c["e"])("div",Y,[Object(c["e"])("table",null,[Object(c["e"])("tbody",null,[(Object(c["g"])(!0),Object(c["c"])(c["a"],null,Object(c["k"])(t.balance,(function(t,e){return Object(c["g"])(),Object(c["c"])("tr",{key:e},[Object(c["e"])("td",null,Object(c["m"])(e),1),Object(c["e"])("td",null,Object(c["m"])(u.form_00(t)),1)])})),128))])])])])})),A={computed:Object(i["a"])({},Object(a["c"])(["balance"])),methods:{form_00:function(t){return(Math.trunc(100*t)/100).toFixed(2)}}};n("94a9");A.render=J,A.__scopeId="data-v-9691609c";var E=A,$={name:"App",components:{Change:C,Course:P,Balance:E},methods:Object(i["a"])({},Object(a["b"])({loadData:"loadData"})),mounted:function(){this.loadData()}};n("920d");$.render=l;var q=$,z=Object(c["b"])(q);z.use(o),z.mount("#app")},"5bf6":function(t,e,n){"use strict";n("f17b")},7535:function(t,e,n){},"853e":function(t,e,n){},"89a3":function(t,e,n){},"920d":function(t,e,n){"use strict";n("89a3")},"94a9":function(t,e,n){"use strict";n("d060")},b048:function(t,e,n){"use strict";n("d3b7")},cb4d:function(t,e,n){"use strict";n("7535")},d060:function(t,e,n){},d3b7:function(t,e,n){},e997:function(t,e,n){"use strict";n("853e")},f17b:function(t,e,n){}});
//# sourceMappingURL=app.546b6f2b.js.map